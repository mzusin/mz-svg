/* 
mzSVG - the TypeScript-based library for manipulating and animating SVG.
Version: 1.0.1
Author: Miriam Zusin     
Contact: miriam.zusin@gmail.com
Documentation: https://github.com/mzusin/mz-svg
Licensed GPLv3 for open source use, or Commercial License for commercial use - https://github.com/mzusin/index/blob/main/LICENSE.md                 
*/
var U=Object.defineProperty,D=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var E=(e,n,t)=>n in e?U(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,y=(e,n)=>{for(var t in n||(n={}))q.call(n,t)&&E(e,t,n[t]);if(L)for(var t of L(n))H.call(n,t)&&E(e,t,n[t]);return e},C=(e,n)=>D(e,B(n));var h="http://www.w3.org/2000/svg",z="http://www.w3.org/2000/xmlns/",T=2,X=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"svg");t.setAttributeNS(z,"xmlns",h);let i=e==null?void 0:e.viewBox;return e!=null&&e.autoViewBox&&(i=`${(e==null?void 0:e.x)||0} ${(e==null?void 0:e.y)||0} ${(e==null?void 0:e.width)||0} ${(e==null?void 0:e.height)||0}`),m(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["viewBox",i],["preserveAspectRatio",e==null?void 0:e.preserveAspectRatio],...o(e)]),t},A=e=>{let{document:n,svg:t}=e,a=(n||window.document).createElement("div");return a.innerHTML=t,a.firstElementChild},$=e=>e.outerHTML,m=(e,n)=>{if(!(!e||!n))for(let t of n){if(t.length!==2)continue;let i=t[0];if(i==null)continue;let a=t[1];a!=null&&e.setAttribute(i,a.toString())}},o=e=>e?[["id",e.id],["class",e.classes],["style",e.style],["stroke",e.stroke],["stroke-width",e.strokeWidth],["stroke-opacity",e.strokeOpacity],["stroke-linecap",e.strokeLinecap],["stroke-linejoin",e.strokeLinejoin],["stroke-dasharray",e.strokeDasharray],["stroke-dashoffset",e.strokeDashoffset],["stroke-miterlimit",e.strokeMiterlimit],["fill",e.fill],["fill-opacity",e.fillOpacity],["fill-rule",e.fillRule],["filter",e.filter],["mask",e.mask],["transform",e.transform],["vector-effect",e.vectorEffect],["shape-rendering",e.shapeRendering],["clip-path",e.clipPath],["clip-rule",e.clipRule],["opacity",e.opacity],["visibility",e.visibility]]:[];var R=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"path");return e!=null&&e.d&&(e.d=e==null?void 0:e.d.replace(/\s\s+/g," ")),m(t,[["d",e==null?void 0:e.d],["pathLength",e==null?void 0:e.pathLength],...o(e)]),t},K=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"rect");return m(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["rx",e==null?void 0:e.rx],["ry",e==null?void 0:e.ry],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["pathLength",e==null?void 0:e.pathLength],...o(e)]),t},J=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"circle");return m(t,[["cx",e==null?void 0:e.cx],["cy",e==null?void 0:e.cy],["r",e==null?void 0:e.r],["pathLength",e==null?void 0:e.pathLength],...o(e)]),t},p=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"ellipse");return m(t,[["cx",e==null?void 0:e.cx],["cy",e==null?void 0:e.cy],["rx",e==null?void 0:e.rx],["ry",e==null?void 0:e.ry],["pathLength",e==null?void 0:e.pathLength],...o(e)]),t},ee=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"line");return m(t,[["x1",e==null?void 0:e.x1],["x2",e==null?void 0:e.x2],["y1",e==null?void 0:e.y1],["y2",e==null?void 0:e.y2],["pathLength",e==null?void 0:e.pathLength],...o(e)]),t},te=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"polygon");return m(t,[["id",e==null?void 0:e.id],["class",e==null?void 0:e.classes],["style",e==null?void 0:e.style],["points",e==null?void 0:e.points],["pathLength",e==null?void 0:e.pathLength],...o(e)]),t},ne=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"polyline");return m(t,[["id",e==null?void 0:e.id],["class",e==null?void 0:e.classes],["style",e==null?void 0:e.style],["points",e==null?void 0:e.points],["pathLength",e==null?void 0:e.pathLength],...o(e)]),t};var _=Math.pow,w=(e,n=1/0)=>{if(n===1/0)return e;n<0&&(n=0);let t=_(10,n);return Math.round(e*t)/t};var ce=e=>{let{centerX:n,centerY:t,outerRadius:i,innerRadius:a}=e,b=4,f=[],r=Math.max(b,Number(e.raysNumber)||b),u=e.decimalPlaces===null||e.decimalPlaces===void 0?T:e.decimalPlaces,g=2*Math.PI/r,v=g/2;for(let s=0,d=1.5*Math.PI;s<r;s++,d+=g)f.push([w(n+Math.cos(d)*i,u),w(t+Math.sin(d)*i,u)]),f.push([w(n+Math.cos(d+v)*a,u),w(t+Math.sin(d+v)*a,u)]);let x=`M ${f[0][0]} ${f[0][1]} `;x+=f.map(s=>`L ${s[0]} ${s[1]}`).join(" "),x+=" Z";let c=C(y({},e),{d:x});return R(c)};var F=e=>{let{x:n,y:t,width:i,height:a,rx:b,ry:f}=e,r=b||0,u=f||0;if(r||u){let g=`${n} ${t}`,v=`${n+r} ${t}`,x=`${n+i-r} ${t}`,c=`${n+i} ${t}`,s=`${n+i} ${t+u}`,d=`${n+i} ${t+a-u}`,P=`${n+i} ${t+a}`,S=`${n+i-r} ${t+a}`,M=`${n+r} ${t+a}`,G=`${n} ${t+a}`,N=`${n} ${t+a-u}`,l=`${n} ${t+u}`;return`
            M${v} 
            L${x}
            C${x} ${c} ${s} 
            L${d} 
            C${d} ${P} ${S} 
            L${M} 
            C${M} ${G} ${N} 
            L${l} 
            C${l} ${g} ${v} Z`.replace(/\s\s+/g," ").trim()}return`M${n+i} ${t} L${n+i} ${a+t} L${n} ${a+t} L${n} ${t} L${n+i} ${t} Z`},oe=e=>{let n=C(y({},e),{d:F({x:e.x,y:e.y,width:e.width,height:e.height,rx:e.rx,ry:e.ry})});return R(n)};var Q="Either an SVG element or an SVG string must be provided.",O=e=>!e||!e.trim()?"svg":e.trim().toLowerCase(),be=e=>new Promise((n,t)=>{if(!e.$svg&&!e.svgString){t({isError:!0,msg:Q});return}let a=`<?xml version="1.0" encoding="UTF-8"?>${e.$svg?$(e.$svg):e.svgString}`,b=O(e.ext),f=`${e.outfileName||"out"}.${b}`;if(b==="svg"){let r=new Blob([a],{type:"text/plain"}),u=URL.createObjectURL(r),g=document.createElement("a");g.href=u,g.title="",g.download=f,g.click(),URL.revokeObjectURL(u),n({isError:!1})}else{let r=e.$svg||A({svg:e.svgString||""}),u=document.createElement("canvas");u.width=r.width.baseVal.value,u.height=r.height.baseVal.value;let g=u.getContext("2d");if(!g){t({isError:!0});return}let v=new XMLSerializer().serializeToString(r),x=new Blob([v],{type:"image/svg+xml;charset=utf-8"}),c=URL.createObjectURL(x),s=new Image;s.onload=()=>{g.clearRect(0,0,u.width,u.height),g.drawImage(s,0,0),URL.revokeObjectURL(c),u.toBlob(d=>{if(!d){n({isError:!0});return}let P=URL.createObjectURL(d),S=document.createElement("a");S.href=P,S.title="",S.download=f,S.click(),URL.revokeObjectURL(P),n({isError:!1})})},s.onerror=()=>{n({isError:!0})},s.src=c}});var Se=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"g");return m(t,[...o(e)]),t},we=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"defs");return m(t,[["id",e==null?void 0:e.id],["class",e==null?void 0:e.classes]]),t},Pe=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"use");return m(t,[["href",e==null?void 0:e.href],["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],...o(e)]),t},ye=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"pattern");return m(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["href",e==null?void 0:e.href],["patternContentUnits",e==null?void 0:e.patternContentUnits],["patternTransform",e==null?void 0:e.patternTransform],["patternUnits",e==null?void 0:e.patternUnits],["preserveAspectRatio",e==null?void 0:e.preserveAspectRatio],["viewBox",e==null?void 0:e.viewBox],...o(e)]),t},Ce=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"clipPath");return m(t,[["clipPathUnits",e==null?void 0:e.clipPathUnits],...o(e)]),t},Re=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"mask");return m(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["maskContentUnits",e==null?void 0:e.maskContentUnits],["maskUnits",e==null?void 0:e.maskUnits],...o(e)]),t},Me=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"symbol");return m(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["preserveAspectRatio",e==null?void 0:e.preserveAspectRatio],["refX",e==null?void 0:e.refX],["refY",e==null?void 0:e.refY],["viewBox",e==null?void 0:e.viewBox],...o(e)]),t};var Ee=(e,n)=>{let t=n.tagName.toLowerCase().trim();e.querySelector(t)||e.append(n)},Te=(e,n)=>{let t=n.tagName.toLowerCase().trim();e.querySelector(t)||e.prepend(n)};var I=/^[+\-]?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+\-]?\d+)?/,k=e=>{let n={tokens:[],errors:[]};if(!e||e.trim()==="")return n;let t=0,i=0,a=-1,b=()=>t>=e.length,f=()=>{let c=e[t];return t++,a++,c},r=c=>{n.tokens.push({tokenType:c,line:i,col:a})},u=c=>{n.tokens.push({tokenType:"num",value:c,line:i,col:a})},g=c=>{n.errors.push({line:i,col:a,msg:c})},v=()=>b()?!1:I.test(e.substring(t-1)),x=()=>{let c=f();if(c.charAt(0)===`
`||c.charAt(0)==="\r"){a=0,i++;return}if(!(/\s/.test(c)||c===",")){if(v()){let s=e.substring(t-1).match(I);if(s&&s.length>0){let d=s[0];u(d),t+=d.length;return}}switch(c){case"M":r("M");break;case"m":r("m");break;case"Z":r("Z");break;case"z":r("z");break;case"L":r("L");break;case"l":r("l");break;case"H":r("H");break;case"h":r("h");break;case"V":r("V");break;case"v":r("v");break;case"C":r("C");break;case"c":r("c");break;case"S":r("S");break;case"s":r("s");break;case"Q":r("Q");break;case"q":r("q");break;case"T":r("T");break;case"t":r("t");break;case"A":r("A");break;case"a":r("a");break;default:{g(`Unexpected character ${c}`);break}}}};for(;!b();)x();return n.tokens.push({tokenType:"EOF",line:i,col:a}),n};var j=(l=>(l.MoveToAbs="M",l.MoveToRel="m",l.ClosePathAbs="Z",l.ClosePathRel="z",l.LineToAbs="L",l.LineToRel="l",l.LineToHorizontalAbs="H",l.LineToHorizontalRel="h",l.LineToVerticalAbs="V",l.LineToVerticalRel="v",l.CubicCurveToAbs="C",l.CubicCurveToRel="c",l.CubicCurveToSmoothAbs="S",l.CubicCurveToSmoothRel="s",l.QuadraticCurveToAbs="Q",l.QuadraticCurveToRel="q",l.QuadraticCurveToSmoothAbs="T",l.QuadraticCurveToSmoothRel="t",l.ArcAbs="A",l.ArcRel="a",l))(j||{}),V=e=>{let n=[],t=k(e);for(let i of t.tokens)console.log("token",i);return{length:n.length,commands:n}};var Ge=e=>{var t,i;if(!e||!e.d&&!e.$path)return null;let n=(i=(t=e.$path)==null?void 0:t.getAttribute("d"))!=null?i:e.d;return n?(V(n),e.$path?e.$path:n):null};export{T as DEFAULT_DECIMAL_PLACES,j as EPathDataCommand,h as SVG_NAMESPACE,z as XMLNS_NAMESPACE,Ee as appendOnce,J as createCircle,Ce as createClipPath,we as createDefs,p as createEllipse,Se as createGroup,ee as createLine,Re as createMask,R as createPath,ye as createPattern,te as createPolygon,ne as createPolyline,K as createRect,oe as createRectPath,X as createSVG,A as createSVGFromString,ce as createStar,Me as createSymbol,Pe as createUse,be as download,o as getCommonAttributes,F as getRectPathD,$ as getSVGAsString,V as parseD,Te as prependOnce,m as setAttributes,Ge as transformPath};
//# sourceMappingURL=mz-svg.esm.js.map
