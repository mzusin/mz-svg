/* 
mzSVG - the TypeScript-based library for manipulating and animating SVG.
Version: 1.0.1
Author: Miriam Zusin     
Contact: miriam.zusin@gmail.com
Documentation: https://github.com/mzusin/mz-svg
Licensed GPLv3 for open source use, or Commercial License for commercial use - https://github.com/mzusin/index/blob/main/LICENSE.md                 
*/
var N=Object.defineProperty,U=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var E=(e,n,t)=>n in e?N(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,C=(e,n)=>{for(var t in n||(n={}))q.call(n,t)&&E(e,t,n[t]);if(L)for(var t of L(n))B.call(n,t)&&E(e,t,n[t]);return e},y=(e,n)=>U(e,D(n));var h="http://www.w3.org/2000/svg",H="http://www.w3.org/2000/xmlns/",T=2,W=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"svg");t.setAttributeNS(H,"xmlns",h);let i=e==null?void 0:e.viewBox;return e!=null&&e.autoViewBox&&(i=`${(e==null?void 0:e.x)||0} ${(e==null?void 0:e.y)||0} ${(e==null?void 0:e.width)||0} ${(e==null?void 0:e.height)||0}`),m(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["viewBox",i],["preserveAspectRatio",e==null?void 0:e.preserveAspectRatio],...g(e)]),t},A=e=>{let{document:n,svg:t}=e,a=(n||window.document).createElement("div");return a.innerHTML=t,a.firstElementChild},$=e=>e.outerHTML,m=(e,n)=>{if(!(!e||!n))for(let t of n){if(t.length!==2)continue;let i=t[0];if(i==null)continue;let a=t[1];a!=null&&e.setAttribute(i,a.toString())}},g=e=>e?[["id",e.id],["class",e.classes],["style",e.style],["stroke",e.stroke],["stroke-width",e.strokeWidth],["stroke-opacity",e.strokeOpacity],["stroke-linecap",e.strokeLinecap],["stroke-linejoin",e.strokeLinejoin],["stroke-dasharray",e.strokeDasharray],["stroke-dashoffset",e.strokeDashoffset],["stroke-miterlimit",e.strokeMiterlimit],["fill",e.fill],["fill-opacity",e.fillOpacity],["fill-rule",e.fillRule],["filter",e.filter],["mask",e.mask],["transform",e.transform],["vector-effect",e.vectorEffect],["shape-rendering",e.shapeRendering],["clip-path",e.clipPath],["clip-rule",e.clipRule],["opacity",e.opacity],["visibility",e.visibility]]:[];var R=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"path");return e!=null&&e.d&&(e.d=e==null?void 0:e.d.replace(/\s\s+/g," ")),m(t,[["d",e==null?void 0:e.d],["pathLength",e==null?void 0:e.pathLength],...g(e)]),t},Z=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"rect");return m(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["rx",e==null?void 0:e.rx],["ry",e==null?void 0:e.ry],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["pathLength",e==null?void 0:e.pathLength],...g(e)]),t},K=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"circle");return m(t,[["cx",e==null?void 0:e.cx],["cy",e==null?void 0:e.cy],["r",e==null?void 0:e.r],["pathLength",e==null?void 0:e.pathLength],...g(e)]),t},J=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"ellipse");return m(t,[["cx",e==null?void 0:e.cx],["cy",e==null?void 0:e.cy],["rx",e==null?void 0:e.rx],["ry",e==null?void 0:e.ry],["pathLength",e==null?void 0:e.pathLength],...g(e)]),t},p=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"line");return m(t,[["x1",e==null?void 0:e.x1],["x2",e==null?void 0:e.x2],["y1",e==null?void 0:e.y1],["y2",e==null?void 0:e.y2],["pathLength",e==null?void 0:e.pathLength],...g(e)]),t},ee=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"polygon");return m(t,[["id",e==null?void 0:e.id],["class",e==null?void 0:e.classes],["style",e==null?void 0:e.style],["points",e==null?void 0:e.points],["pathLength",e==null?void 0:e.pathLength],...g(e)]),t},te=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"polyline");return m(t,[["id",e==null?void 0:e.id],["class",e==null?void 0:e.classes],["style",e==null?void 0:e.style],["points",e==null?void 0:e.points],["pathLength",e==null?void 0:e.pathLength],...g(e)]),t};var z=Math.pow,w=(e,n=1/0)=>{if(n===1/0)return e;n<0&&(n=0);let t=z(10,n);return Math.round(e*t)/t};var ue=e=>{let{centerX:n,centerY:t,outerRadius:i,innerRadius:a}=e,d=4,s=[],o=Math.max(d,Number(e.raysNumber)||d),u=e.decimalPlaces===null||e.decimalPlaces===void 0?T:e.decimalPlaces,r=2*Math.PI/o,v=r/2;for(let f=0,b=1.5*Math.PI;f<o;f++,b+=r)s.push([w(n+Math.cos(b)*i,u),w(t+Math.sin(b)*i,u)]),s.push([w(n+Math.cos(b+v)*a,u),w(t+Math.sin(b+v)*a,u)]);let x=`M ${s[0][0]} ${s[0][1]} `;x+=s.map(f=>`L ${f[0]} ${f[1]}`).join(" "),x+=" Z";let c=y(C({},e),{d:x});return R(c)};var _=e=>{let{x:n,y:t,width:i,height:a,rx:d,ry:s}=e,o=d||0,u=s||0;if(o||u){let r=`${n} ${t}`,v=`${n+o} ${t}`,x=`${n+i-o} ${t}`,c=`${n+i} ${t}`,f=`${n+i} ${t+u}`,b=`${n+i} ${t+a-u}`,P=`${n+i} ${t+a}`,S=`${n+i-o} ${t+a}`,M=`${n+o} ${t+a}`,V=`${n} ${t+a}`,G=`${n} ${t+a-u}`,l=`${n} ${t+u}`;return`
            M${v} 
            L${x}
            C${x} ${c} ${f} 
            L${b} 
            C${b} ${P} ${S} 
            L${M} 
            C${M} ${V} ${G} 
            L${l} 
            C${l} ${r} ${v} Z`.replace(/\s\s+/g," ").trim()}return`M${n+i} ${t} L${n+i} ${a+t} L${n} ${a+t} L${n} ${t} L${n+i} ${t} Z`},se=e=>{let n=y(C({},e),{d:_({x:e.x,y:e.y,width:e.width,height:e.height,rx:e.rx,ry:e.ry})});return R(n)};var F="Either an SVG element or an SVG string must be provided.",Q=e=>!e||!e.trim()?"svg":e.trim().toLowerCase(),fe=e=>new Promise((n,t)=>{if(!e.$svg&&!e.svgString){t({isError:!0,msg:F});return}let a=`<?xml version="1.0" encoding="UTF-8"?>${e.$svg?$(e.$svg):e.svgString}`,d=Q(e.ext),s=`${e.outfileName||"out"}.${d}`;if(d==="svg"){let o=new Blob([a],{type:"text/plain"}),u=URL.createObjectURL(o),r=document.createElement("a");r.href=u,r.title="",r.download=s,r.click(),URL.revokeObjectURL(u),n({isError:!1})}else{let o=e.$svg||A({svg:e.svgString||""}),u=document.createElement("canvas");u.width=o.width.baseVal.value,u.height=o.height.baseVal.value;let r=u.getContext("2d");if(!r){t({isError:!0});return}let v=new XMLSerializer().serializeToString(o),x=new Blob([v],{type:"image/svg+xml;charset=utf-8"}),c=URL.createObjectURL(x),f=new Image;f.onload=()=>{r.clearRect(0,0,u.width,u.height),r.drawImage(f,0,0),URL.revokeObjectURL(c),u.toBlob(b=>{if(!b){n({isError:!0});return}let P=URL.createObjectURL(b),S=document.createElement("a");S.href=P,S.title="",S.download=s,S.click(),URL.revokeObjectURL(P),n({isError:!1})})},f.onerror=()=>{n({isError:!0})},f.src=c}});var ve=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"g");return m(t,[...g(e)]),t},Se=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"defs");return m(t,[["id",e==null?void 0:e.id],["class",e==null?void 0:e.classes]]),t},we=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"use");return m(t,[["href",e==null?void 0:e.href],["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],...g(e)]),t},Pe=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"pattern");return m(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["href",e==null?void 0:e.href],["patternContentUnits",e==null?void 0:e.patternContentUnits],["patternTransform",e==null?void 0:e.patternTransform],["patternUnits",e==null?void 0:e.patternUnits],["preserveAspectRatio",e==null?void 0:e.preserveAspectRatio],["viewBox",e==null?void 0:e.viewBox],...g(e)]),t},Ce=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"clipPath");return m(t,[["clipPathUnits",e==null?void 0:e.clipPathUnits],...g(e)]),t},ye=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"mask");return m(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["maskContentUnits",e==null?void 0:e.maskContentUnits],["maskUnits",e==null?void 0:e.maskUnits],...g(e)]),t},Re=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"symbol");return m(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["preserveAspectRatio",e==null?void 0:e.preserveAspectRatio],["refX",e==null?void 0:e.refX],["refY",e==null?void 0:e.refY],["viewBox",e==null?void 0:e.viewBox],...g(e)]),t};var Le=(e,n)=>{let t=n.tagName.toLowerCase().trim();e.querySelector(t)||e.append(n)},Ee=(e,n)=>{let t=n.tagName.toLowerCase().trim();e.querySelector(t)||e.prepend(n)};var I=e=>{let n={tokens:[],errors:[]};if(!e||e.trim()==="")return n;let t=e,i=0,a=0,d=0,s=-1,o=()=>a>=t.length,u=()=>{let c=t[a];return a++,s++,c},r=c=>{n.tokens.push({tokenType:c,line:d,col:s})},v=c=>{n.errors.push({line:d,col:s,msg:c})},x=()=>{let c=u();if(c.charAt(0)===`
`||c.charAt(0)==="\r"){s=0,d++;return}if(!(/\s\s+/.test(c)||c===","))switch(c){case"M":r("M");break;case"m":r("m");break;case"Z":r("Z");break;case"z":r("z");break;case"L":r("L");break;case"l":r("l");break;case"H":r("H");break;case"h":r("h");break;case"V":r("V");break;case"v":r("v");break;case"C":r("C");break;case"c":r("c");break;case"S":r("S");break;case"s":r("s");break;case"Q":r("Q");break;case"q":r("q");break;case"T":r("T");break;case"t":r("t");break;case"A":r("A");break;case"a":r("a");break;default:{v(`Unexpected character ${c}`);break}}};for(console.log(i);!o();)i=a,x();return n.tokens.push({tokenType:"EOF",line:d,col:s}),n};var O=(l=>(l.MoveToAbs="M",l.MoveToRel="m",l.ClosePathAbs="Z",l.ClosePathRel="z",l.LineToAbs="L",l.LineToRel="l",l.LineToHorizontalAbs="H",l.LineToHorizontalRel="h",l.LineToVerticalAbs="V",l.LineToVerticalRel="v",l.CubicCurveToAbs="C",l.CubicCurveToRel="c",l.CubicCurveToSmoothAbs="S",l.CubicCurveToSmoothRel="s",l.QuadraticCurveToAbs="Q",l.QuadraticCurveToRel="q",l.QuadraticCurveToSmoothAbs="T",l.QuadraticCurveToSmoothRel="t",l.ArcAbs="A",l.ArcRel="a",l))(O||{}),k=e=>{let n=[],t=I(e);for(let i of t.tokens)console.log("token",i);return{length:n.length,commands:n}};var Ve=e=>{var t,i;if(!e||!e.d&&!e.$path)return null;let n=(i=(t=e.$path)==null?void 0:t.getAttribute("d"))!=null?i:e.d;return n?(k(n),e.$path?e.$path:n):null};export{T as DEFAULT_DECIMAL_PLACES,O as EPathDataCommand,h as SVG_NAMESPACE,H as XMLNS_NAMESPACE,Le as appendOnce,K as createCircle,Ce as createClipPath,Se as createDefs,J as createEllipse,ve as createGroup,p as createLine,ye as createMask,R as createPath,Pe as createPattern,ee as createPolygon,te as createPolyline,Z as createRect,se as createRectPath,W as createSVG,A as createSVGFromString,ue as createStar,Re as createSymbol,we as createUse,fe as download,g as getCommonAttributes,_ as getRectPathD,$ as getSVGAsString,k as parseD,Ee as prependOnce,m as setAttributes,Ve as transformPath};
//# sourceMappingURL=mz-svg.esm.js.map
