/* 
mzSVG - the TypeScript-based library for manipulating and animating SVG.
Version: 1.0.2
Author: Miriam Zusin     
Contact: miriam.zusin@gmail.com
Documentation: https://github.com/mzusin/mz-svg
Licensed GPLv3 for open source use, or Commercial License for commercial use - https://github.com/mzusin/index/blob/main/LICENSE.md                 
*/
(()=>{var O=Object.defineProperty,J=Object.defineProperties;var p=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var ee=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable;var F=(e,n,t)=>n in e?O(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,v=(e,n)=>{for(var t in n||(n={}))ee.call(n,t)&&F(e,t,n[t]);if(j)for(var t of j(n))te.call(n,t)&&F(e,t,n[t]);return e},I=(e,n)=>J(e,p(n));var T=(e,n)=>{for(var t in n)O(e,t,{get:n[t],enumerable:!0})};var G={};T(G,{DEFAULT_DECIMAL_PLACES:()=>$,SVG_NAMESPACE:()=>h,XMLNS_NAMESPACE:()=>W,createSVG:()=>ne,createSVGFromString:()=>V,getCommonAttributes:()=>b,getSVGAsString:()=>N,setAttributes:()=>d});var h="http://www.w3.org/2000/svg",W="http://www.w3.org/2000/xmlns/",$=2,ne=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"svg");t.setAttributeNS(W,"xmlns",h);let l=e==null?void 0:e.viewBox;return e!=null&&e.autoViewBox&&(l=`${(e==null?void 0:e.x)||0} ${(e==null?void 0:e.y)||0} ${(e==null?void 0:e.width)||0} ${(e==null?void 0:e.height)||0}`),d(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["viewBox",l],["preserveAspectRatio",e==null?void 0:e.preserveAspectRatio],...b(e)]),t},V=e=>{let{document:n,svg:t}=e,a=(n||window.document).createElement("div");return a.innerHTML=t,a.firstElementChild},N=e=>e.outerHTML,d=(e,n)=>{if(!(!e||!n))for(let t of n){if(t.length!==2)continue;let l=t[0];if(l==null)continue;let a=t[1];a!=null&&e.setAttribute(l,a.toString())}},b=e=>e?[["id",e.id],["class",e.classes],["style",e.style],["stroke",e.stroke],["stroke-width",e.strokeWidth],["stroke-opacity",e.strokeOpacity],["stroke-linecap",e.strokeLinecap],["stroke-linejoin",e.strokeLinejoin],["stroke-dasharray",e.strokeDasharray],["stroke-dashoffset",e.strokeDashoffset],["stroke-miterlimit",e.strokeMiterlimit],["fill",e.fill],["fill-opacity",e.fillOpacity],["fill-rule",e.fillRule],["filter",e.filter],["mask",e.mask],["transform",e.transform],["vector-effect",e.vectorEffect],["shape-rendering",e.shapeRendering],["clip-path",e.clipPath],["clip-rule",e.clipRule],["opacity",e.opacity],["visibility",e.visibility]]:[];var D={};T(D,{createCircle:()=>ae,createEllipse:()=>ie,createLine:()=>le,createPath:()=>L,createPolygon:()=>ue,createPolyline:()=>ce,createRect:()=>re});var L=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"path");return e!=null&&e.d&&(e.d=e==null?void 0:e.d.replace(/\s\s+/g," ")),d(t,[["d",e==null?void 0:e.d],["pathLength",e==null?void 0:e.pathLength],...b(e)]),t},re=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"rect");return d(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["rx",e==null?void 0:e.rx],["ry",e==null?void 0:e.ry],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["pathLength",e==null?void 0:e.pathLength],...b(e)]),t},ae=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"circle");return d(t,[["cx",e==null?void 0:e.cx],["cy",e==null?void 0:e.cy],["r",e==null?void 0:e.r],["pathLength",e==null?void 0:e.pathLength],...b(e)]),t},ie=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"ellipse");return d(t,[["cx",e==null?void 0:e.cx],["cy",e==null?void 0:e.cy],["rx",e==null?void 0:e.rx],["ry",e==null?void 0:e.ry],["pathLength",e==null?void 0:e.pathLength],...b(e)]),t},le=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"line");return d(t,[["x1",e==null?void 0:e.x1],["x2",e==null?void 0:e.x2],["y1",e==null?void 0:e.y1],["y2",e==null?void 0:e.y2],["pathLength",e==null?void 0:e.pathLength],...b(e)]),t},ue=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"polygon");return d(t,[["id",e==null?void 0:e.id],["class",e==null?void 0:e.classes],["style",e==null?void 0:e.style],["points",e==null?void 0:e.points],["pathLength",e==null?void 0:e.pathLength],...b(e)]),t},ce=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"polyline");return d(t,[["id",e==null?void 0:e.id],["class",e==null?void 0:e.classes],["style",e==null?void 0:e.style],["points",e==null?void 0:e.points],["pathLength",e==null?void 0:e.pathLength],...b(e)]),t};var U={};T(U,{createStar:()=>oe});var se=Math.pow,E=(e,n=1/0)=>{if(n===1/0)return e;n<0&&(n=0);let t=se(10,n);return Math.round(e*t)/t};var oe=e=>{let{centerX:n,centerY:t,outerRadius:l,innerRadius:a}=e,c=4,i=[],g=Math.max(c,Number(e.raysNumber)||c),s=e.decimalPlaces===null||e.decimalPlaces===void 0?$:e.decimalPlaces,o=2*Math.PI/g,S=o/2;for(let m=0,f=1.5*Math.PI;m<g;m++,f+=o)i.push([E(n+Math.cos(f)*l,s),E(t+Math.sin(f)*l,s)]),i.push([E(n+Math.cos(f+S)*a,s),E(t+Math.sin(f+S)*a,s)]);let r=`M ${i[0][0]} ${i[0][1]} `;r+=i.map(m=>`L ${m[0]} ${m[1]}`).join(" "),r+=" Z";let u=I(v({},e),{d:r});return L(u)};var B={};T(B,{createRectPath:()=>me,getRectPathD:()=>X});var X=e=>{let{x:n,y:t,width:l,height:a,rx:c,ry:i}=e,g=c||0,s=i||0;if(g||s){let o=`${n} ${t}`,S=`${n+g} ${t}`,r=`${n+l-g} ${t}`,u=`${n+l} ${t}`,m=`${n+l} ${t+s}`,f=`${n+l} ${t+a-s}`,w=`${n+l} ${t+a}`,x=`${n+l-g} ${t+a}`,k=`${n+g} ${t+a}`,A=`${n} ${t+a}`,P=`${n} ${t+a-s}`,C=`${n} ${t+s}`;return`
            M${S} 
            L${r}
            C${r} ${u} ${m} 
            L${f} 
            C${f} ${w} ${x} 
            L${k} 
            C${k} ${A} ${P} 
            L${C} 
            C${C} ${o} ${S} Z`.replace(/\s\s+/g," ").trim()}return`M${n+l} ${t} L${n+l} ${a+t} L${n} ${a+t} L${n} ${t} L${n+l} ${t} Z`},me=e=>{let n=I(v({},e),{d:X({x:e.x,y:e.y,width:e.width,height:e.height,rx:e.rx,ry:e.ry})});return L(n)};var q={};T(q,{createClipPath:()=>be,createDefs:()=>ge,createGroup:()=>he,createMask:()=>xe,createPattern:()=>fe,createSymbol:()=>ve,createUse:()=>de});var he=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"g");return d(t,[...b(e)]),t},ge=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"defs");return d(t,[["id",e==null?void 0:e.id],["class",e==null?void 0:e.classes]]),t},de=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"use");return d(t,[["href",e==null?void 0:e.href],["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],...b(e)]),t},fe=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"pattern");return d(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["href",e==null?void 0:e.href],["patternContentUnits",e==null?void 0:e.patternContentUnits],["patternTransform",e==null?void 0:e.patternTransform],["patternUnits",e==null?void 0:e.patternUnits],["preserveAspectRatio",e==null?void 0:e.preserveAspectRatio],["viewBox",e==null?void 0:e.viewBox],...b(e)]),t},be=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"clipPath");return d(t,[["clipPathUnits",e==null?void 0:e.clipPathUnits],...b(e)]),t},xe=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"mask");return d(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["maskContentUnits",e==null?void 0:e.maskContentUnits],["maskUnits",e==null?void 0:e.maskUnits],...b(e)]),t},ve=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(h,"symbol");return d(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["preserveAspectRatio",e==null?void 0:e.preserveAspectRatio],["refX",e==null?void 0:e.refX],["refY",e==null?void 0:e.refY],["viewBox",e==null?void 0:e.viewBox],...b(e)]),t};var z={};T(z,{download:()=>Pe});var Se="Either an SVG element or an SVG string must be provided.",we=e=>!e||!e.trim()?"svg":e.trim().toLowerCase(),Pe=e=>new Promise((n,t)=>{if(!e.$svg&&!e.svgString){t({isError:!0,msg:Se});return}let a=`<?xml version="1.0" encoding="UTF-8"?>${e.$svg?N(e.$svg):e.svgString}`,c=we(e.ext),i=`${e.outfileName||"out"}.${c}`;if(c==="svg"){let g=new Blob([a],{type:"text/plain"}),s=URL.createObjectURL(g),o=document.createElement("a");o.href=s,o.title="",o.download=i,o.click(),URL.revokeObjectURL(s),n({isError:!1})}else{let g=e.$svg||V({svg:e.svgString||""}),s=document.createElement("canvas");s.width=g.width.baseVal.value,s.height=g.height.baseVal.value;let o=s.getContext("2d");if(!o){t({isError:!0});return}let S=new XMLSerializer().serializeToString(g),r=new Blob([S],{type:"image/svg+xml;charset=utf-8"}),u=URL.createObjectURL(r),m=new Image;m.onload=()=>{o.clearRect(0,0,s.width,s.height),o.drawImage(m,0,0),URL.revokeObjectURL(u),s.toBlob(f=>{if(!f){n({isError:!0});return}let w=URL.createObjectURL(f),x=document.createElement("a");x.href=w,x.title="",x.download=i,x.click(),URL.revokeObjectURL(w),n({isError:!1})})},m.onerror=()=>{n({isError:!0})},m.src=u}});var H={};T(H,{appendOnce:()=>ye,prependOnce:()=>Ce});var ye=(e,n)=>{let t=n.tagName.toLowerCase().trim();e.querySelector(t)||e.append(n)},Ce=(e,n)=>{let t=n.tagName.toLowerCase().trim();e.querySelector(t)||e.prepend(n)};var Q={};T(Q,{isPathValid:()=>Re,parsePath:()=>_,transformPath:()=>Me});var Y=new RegExp("^[+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d+)?(?:(?<=\\d)(?:[eE][+-]?\\d+))?"),Z=e=>{let n={tokens:[],errors:[]};if(!e||e.trim()==="")return n;let t=0,l=0,a=0,c=()=>t>=e.length,i=r=>{n.tokens.push({tokenType:r,line:l,col:a})},g=r=>{n.tokens.push({tokenType:"num",value:r,line:l,col:a})},s=r=>{n.errors.push({line:l,col:a,msg:r})},o=()=>c()?!1:Y.test(e.substring(t)),S=()=>{let r=e[t];if(r.charAt(0)===`
`||r.charAt(0)==="\r"){t++,a=0,l++;return}if(/\s/.test(r)||r===","){t++,a++;return}if(o()){let u=e.substring(t).match(Y);if(u&&u.length>0){let m=u[0];g(m),t+=m.length,a+=m.length;return}}switch(r){case"M":i("M");break;case"m":i("m");break;case"Z":i("Z");break;case"z":i("z");break;case"L":i("L");break;case"l":i("l");break;case"H":i("H");break;case"h":i("h");break;case"V":i("V");break;case"v":i("v");break;case"C":i("C");break;case"c":i("c");break;case"S":i("S");break;case"s":i("s");break;case"Q":i("Q");break;case"q":i("q");break;case"T":i("T");break;case"t":i("t");break;case"A":i("A");break;case"a":i("a");break;default:{s(`Unexpected character ${r}`);break}}t++,a++};for(;!c();)S();return n};var K=e=>{let n={commands:[],errors:e.errors||[]};if(e.errors.length>0||e.tokens.length===0)return n;let{tokens:t,errors:l}=e,a=(r,u)=>{l.push({line:r==null?void 0:r.line,col:r==null?void 0:r.col,msg:u})};if(t[0].tokenType!=="M"&&t[0].tokenType!=="m")return a(t[0],"A path data segment must begin with a 'moveto' command 'M' or 'm'."),n;let c=0,i=()=>c>=t.length,g=(r,u)=>{if(!r||r.toLowerCase()!=="a")return!0;let m=u[3].toString(),f=u[4].toString();return(m==="0"||m==="1")&&(f==="0"||f==="1")},s=r=>{if(Number.isInteger(r))return[r];let u=r.toString().split("."),m=Number(u[0]);return m===0?[r]:[m,+`0.${u[1]}`]},o=(r,u,m)=>{var A;let f=t[c].tokenType,w=[];if(r>0){let P=[],C=0;for(let y=1;y<=r&&(t[c+y]&&t[c+y].tokenType==="num");y++){let M=s(Number(t[c+y].value));P.push(M),C+=M.length}if(C<r){a(t[c],`Expected number(s) after command ${f}.`),c+=r;return}let R=Math.abs(P.length-r);for(let y of P)if(w.push(y[0]),!(R<=0))for(let M=1;M<y.length&&R>0;M++)w.push(y[M]),R--}if(!g(f,w)){a(t[c],"Arc flags must be 0 or 1."),c+=r+1;return}if(n.commands.push({command:t[c].tokenType,params:w}),c+=r+1,r<=0)return;let x=[];for(;((A=t[c])==null?void 0:A.tokenType)==="num";)x.push(t[c]),c++;if(x.length%r!==0){a(x[x.length-1],"Expected a number.");return}let k=m?u.toLowerCase():u.toUpperCase();for(let P=0;P<x.length;P+=r){let C=[];for(let R=0;R<r;R++)C.push(Number(x[P+R].value));n.commands.push({command:k,params:C})}},S=()=>{let r=t[c],u=r.tokenType.toLowerCase()===r.tokenType;switch(r.tokenType){case"M":case"m":case"L":case"l":{o(2,"L",u);break}case"Z":case"z":{o(0,"L",u);break}case"H":case"h":case"V":case"v":{o(1,r.tokenType,u);break}case"C":case"c":{o(6,r.tokenType,u);break}case"S":case"s":case"Q":case"q":{o(4,r.tokenType,u);break}case"T":case"t":{o(2,r.tokenType,u);break}case"A":case"a":{o(7,r.tokenType,u);break}default:{a(t[c],"Wrong path command."),c++;break}}};for(o(2,"L",t[0].tokenType==="m");!i();)S();return n};var Re=e=>_(e).errors.length<=0,_=e=>{let n=Z(e);return K(n)},Me=e=>{var t,l;if(!e||!e.d&&!e.$path)return null;let n=(l=(t=e.$path)==null?void 0:t.getAttribute("d"))!=null?l:e.d;return n?(_(n),e.$path?e.$path:n):null};var Le=v(v(v(v(v(v(v(v({},G),D),z),U),B),q),H),Q);window.mzSVG=window.mzSVG||Le;})();
//# sourceMappingURL=mz-svg.min.js.map
