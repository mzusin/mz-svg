/* 
mzSVG - the TypeScript-based library for manipulating and animating SVG.
Version: 1.0.1
Author: Miriam Zusin     
Contact: miriam.zusin@gmail.com
Documentation: https://github.com/mzusin/mz-svg
Licensed GPLv3 for open source use, or Commercial License for commercial use - https://github.com/mzusin/index/blob/main/LICENSE.md                 
*/
var F=Object.create;var y=Object.defineProperty,Q=Object.defineProperties,j=Object.getOwnPropertyDescriptor,W=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertyNames,V=Object.getOwnPropertySymbols,X=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var G=(e,n,t)=>n in e?y(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,A=(e,n)=>{for(var t in n||(n={}))N.call(n,t)&&G(e,t,n[t]);if(V)for(var t of V(n))Y.call(n,t)&&G(e,t,n[t]);return e},I=(e,n)=>Q(e,W(n));var Z=(e,n)=>{for(var t in n)y(e,t,{get:n[t],enumerable:!0})},D=(e,n,t,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of O(n))!N.call(e,a)&&a!==t&&y(e,a,{get:()=>n[a],enumerable:!(i=j(n,a))||i.enumerable});return e};var K=(e,n,t)=>(t=e!=null?F(X(e)):{},D(n||!e||!e.__esModule?y(t,"default",{value:e,enumerable:!0}):t,e)),J=e=>D(y({},"__esModule",{value:!0}),e);var Te={};Z(Te,{DEFAULT_DECIMAL_PLACES:()=>L,SVG_NAMESPACE:()=>s,XMLNS_NAMESPACE:()=>U,appendOnce:()=>Se,createCircle:()=>ne,createClipPath:()=>be,createDefs:()=>ge,createEllipse:()=>re,createGroup:()=>oe,createLine:()=>ae,createMask:()=>xe,createPath:()=>C,createPattern:()=>fe,createPolygon:()=>ie,createPolyline:()=>le,createRect:()=>te,createRectPath:()=>se,createSVG:()=>p,createSVGFromString:()=>ee,createStar:()=>ce,createSymbol:()=>ve,createUse:()=>de,getCommonAttributes:()=>g,getRectPathD:()=>B,getSVGAsString:()=>E,isPathValid:()=>ye,parsePath:()=>$,prependOnce:()=>Pe,saveSVG:()=>me,setAttributes:()=>o,transformPath:()=>Ce});module.exports=J(Te);var s="http://www.w3.org/2000/svg",U="http://www.w3.org/2000/xmlns/",L=2,p=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(s,"svg");t.setAttributeNS(U,"xmlns",s);let i=e==null?void 0:e.viewBox;return e!=null&&e.autoViewBox&&(i=`${(e==null?void 0:e.x)||0} ${(e==null?void 0:e.y)||0} ${(e==null?void 0:e.width)||0} ${(e==null?void 0:e.height)||0}`),o(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["viewBox",i],["preserveAspectRatio",e==null?void 0:e.preserveAspectRatio],...g(e)]),t},ee=e=>{let{document:n,svg:t}=e,a=(n||window.document).createElement("div");return a.innerHTML=t,a.firstElementChild},E=e=>e.outerHTML,o=(e,n)=>{if(!(!e||!n))for(let t of n){if(t.length!==2)continue;let i=t[0];if(i==null)continue;let a=t[1];a!=null&&e.setAttribute(i,a.toString())}},g=e=>e?[["id",e.id],["class",e.classes],["style",e.style],["stroke",e.stroke],["stroke-width",e.strokeWidth],["stroke-opacity",e.strokeOpacity],["stroke-linecap",e.strokeLinecap],["stroke-linejoin",e.strokeLinejoin],["stroke-dasharray",e.strokeDasharray],["stroke-dashoffset",e.strokeDashoffset],["stroke-miterlimit",e.strokeMiterlimit],["fill",e.fill],["fill-opacity",e.fillOpacity],["fill-rule",e.fillRule],["filter",e.filter],["mask",e.mask],["transform",e.transform],["vector-effect",e.vectorEffect],["shape-rendering",e.shapeRendering],["clip-path",e.clipPath],["clip-rule",e.clipRule],["opacity",e.opacity],["visibility",e.visibility]]:[];var C=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(s,"path");return e!=null&&e.d&&(e.d=e==null?void 0:e.d.replace(/\s\s+/g," ")),o(t,[["d",e==null?void 0:e.d],["pathLength",e==null?void 0:e.pathLength],...g(e)]),t},te=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(s,"rect");return o(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["rx",e==null?void 0:e.rx],["ry",e==null?void 0:e.ry],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["pathLength",e==null?void 0:e.pathLength],...g(e)]),t},ne=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(s,"circle");return o(t,[["cx",e==null?void 0:e.cx],["cy",e==null?void 0:e.cy],["r",e==null?void 0:e.r],["pathLength",e==null?void 0:e.pathLength],...g(e)]),t},re=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(s,"ellipse");return o(t,[["cx",e==null?void 0:e.cx],["cy",e==null?void 0:e.cy],["rx",e==null?void 0:e.rx],["ry",e==null?void 0:e.ry],["pathLength",e==null?void 0:e.pathLength],...g(e)]),t},ae=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(s,"line");return o(t,[["x1",e==null?void 0:e.x1],["x2",e==null?void 0:e.x2],["y1",e==null?void 0:e.y1],["y2",e==null?void 0:e.y2],["pathLength",e==null?void 0:e.pathLength],...g(e)]),t},ie=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(s,"polygon");return o(t,[["id",e==null?void 0:e.id],["class",e==null?void 0:e.classes],["style",e==null?void 0:e.style],["points",e==null?void 0:e.points],["pathLength",e==null?void 0:e.pathLength],...g(e)]),t},le=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(s,"polyline");return o(t,[["id",e==null?void 0:e.id],["class",e==null?void 0:e.classes],["style",e==null?void 0:e.style],["points",e==null?void 0:e.points],["pathLength",e==null?void 0:e.pathLength],...g(e)]),t};var ue=Math.pow,T=(e,n=1/0)=>{if(n===1/0)return e;n<0&&(n=0);let t=ue(10,n);return Math.round(e*t)/t};var ce=e=>{let{centerX:n,centerY:t,outerRadius:i,innerRadius:a}=e,u=4,l=[],b=Math.max(u,Number(e.raysNumber)||u),f=e.decimalPlaces===null||e.decimalPlaces===void 0?L:e.decimalPlaces,d=2*Math.PI/b,x=d/2;for(let m=0,h=1.5*Math.PI;m<b;m++,h+=d)l.push([T(n+Math.cos(h)*i,f),T(t+Math.sin(h)*i,f)]),l.push([T(n+Math.cos(h+x)*a,f),T(t+Math.sin(h+x)*a,f)]);let r=`M ${l[0][0]} ${l[0][1]} `;r+=l.map(m=>`L ${m[0]} ${m[1]}`).join(" "),r+=" Z";let c=I(A({},e),{d:r});return C(c)};var q=K(require("fs"),1),he="Either an SVG element or an SVG string must be provided.",me=e=>{if(!e.$svg&&!e.svgString)throw new Error(he);let t=`<?xml version="1.0" encoding="UTF-8"?>${e.$svg?E(e.$svg):e.svgString}`;q.default.writeFileSync(e.absOutFilePath,(t!=null?t:"").trim(),"utf8")};var B=e=>{let{x:n,y:t,width:i,height:a,rx:u,ry:l}=e,b=u||0,f=l||0;if(b||f){let d=`${n} ${t}`,x=`${n+b} ${t}`,r=`${n+i-b} ${t}`,c=`${n+i} ${t}`,m=`${n+i} ${t+f}`,h=`${n+i} ${t+a-f}`,P=`${n+i} ${t+a}`,v=`${n+i-b} ${t+a}`,M=`${n+b} ${t+a}`,R=`${n} ${t+a}`,S=`${n} ${t+a-f}`,w=`${n} ${t+f}`;return`
            M${x} 
            L${r}
            C${r} ${c} ${m} 
            L${h} 
            C${h} ${P} ${v} 
            L${M} 
            C${M} ${R} ${S} 
            L${w} 
            C${w} ${d} ${x} Z`.replace(/\s\s+/g," ").trim()}return`M${n+i} ${t} L${n+i} ${a+t} L${n} ${a+t} L${n} ${t} L${n+i} ${t} Z`},se=e=>{let n=I(A({},e),{d:B({x:e.x,y:e.y,width:e.width,height:e.height,rx:e.rx,ry:e.ry})});return C(n)};var oe=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(s,"g");return o(t,[...g(e)]),t},ge=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(s,"defs");return o(t,[["id",e==null?void 0:e.id],["class",e==null?void 0:e.classes]]),t},de=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(s,"use");return o(t,[["href",e==null?void 0:e.href],["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],...g(e)]),t},fe=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(s,"pattern");return o(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["href",e==null?void 0:e.href],["patternContentUnits",e==null?void 0:e.patternContentUnits],["patternTransform",e==null?void 0:e.patternTransform],["patternUnits",e==null?void 0:e.patternUnits],["preserveAspectRatio",e==null?void 0:e.preserveAspectRatio],["viewBox",e==null?void 0:e.viewBox],...g(e)]),t},be=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(s,"clipPath");return o(t,[["clipPathUnits",e==null?void 0:e.clipPathUnits],...g(e)]),t},xe=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(s,"mask");return o(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["maskContentUnits",e==null?void 0:e.maskContentUnits],["maskUnits",e==null?void 0:e.maskUnits],...g(e)]),t},ve=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(s,"symbol");return o(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["preserveAspectRatio",e==null?void 0:e.preserveAspectRatio],["refX",e==null?void 0:e.refX],["refY",e==null?void 0:e.refY],["viewBox",e==null?void 0:e.viewBox],...g(e)]),t};var Se=(e,n)=>{let t=n.tagName.toLowerCase().trim();e.querySelector(t)||e.append(n)},Pe=(e,n)=>{let t=n.tagName.toLowerCase().trim();e.querySelector(t)||e.prepend(n)};var H=new RegExp("^[+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d+)?(?:(?<=\\d)(?:[eE][+-]?\\d+))?"),_=e=>{let n={tokens:[],errors:[]};if(!e||e.trim()==="")return n;let t=0,i=0,a=0,u=()=>t>=e.length,l=r=>{n.tokens.push({tokenType:r,line:i,col:a})},b=r=>{n.tokens.push({tokenType:"num",value:r,line:i,col:a})},f=r=>{n.errors.push({line:i,col:a,msg:r})},d=()=>u()?!1:H.test(e.substring(t)),x=()=>{let r=e[t];if(r.charAt(0)===`
`||r.charAt(0)==="\r"){t++,a=0,i++;return}if(/\s/.test(r)||r===","){t++,a++;return}if(d()){let c=e.substring(t).match(H);if(c&&c.length>0){let m=c[0];b(m),t+=m.length,a+=m.length;return}}switch(r){case"M":l("M");break;case"m":l("m");break;case"Z":l("Z");break;case"z":l("z");break;case"L":l("L");break;case"l":l("l");break;case"H":l("H");break;case"h":l("h");break;case"V":l("V");break;case"v":l("v");break;case"C":l("C");break;case"c":l("c");break;case"S":l("S");break;case"s":l("s");break;case"Q":l("Q");break;case"q":l("q");break;case"T":l("T");break;case"t":l("t");break;case"A":l("A");break;case"a":l("a");break;default:{f(`Unexpected character ${r}`);break}}t++,a++};for(;!u();)x();return n};var z=e=>{let n={commands:[],errors:e.errors||[]};if(e.errors.length>0||e.tokens.length===0)return n;let{tokens:t,errors:i}=e,a=(r,c)=>{i.push({line:r==null?void 0:r.line,col:r==null?void 0:r.col,msg:c})};if(t[0].tokenType!=="M"&&t[0].tokenType!=="m")return a(t[0],"A path data segment must begin with a 'moveto' command 'M' or 'm'."),n;let u=0,l=()=>u>=t.length,b=r=>{var h,P;if(!r||r.toLowerCase()!=="a")return!0;let c=(((h=t[u+4])==null?void 0:h.value)||"").toString(),m=(((P=t[u+5])==null?void 0:P.value)||"").toString();return(c==="0"||c==="1")&&(m==="0"||m==="1")},f=(r,c)=>{let m=[];for(let h=1;h<=c&&(t[r+h]&&t[r+h].tokenType==="num");h++)m.push(Number(t[r+h].value));return m},d=(r,c,m)=>{var R;let h=t[u].tokenType,P=[];if(r>0){let S=f(u,r);if(S.length!==r){a(t[u],`Expected number(s) after command ${h}.`),u+=r;return}P=S}if(!b(h)){a(t[u],"Arc flags must be 0 or 1."),u+=r+1;return}if(n.commands.push({command:t[u].tokenType,params:P}),u+=r+1,r<=0)return;let v=[];for(;((R=t[u])==null?void 0:R.tokenType)==="num";)v.push(t[u]),u++;if(v.length%r!==0){a(v[v.length-1],"Expected a number.");return}let M=m?c.toLowerCase():c.toUpperCase();for(let S=0;S<v.length;S+=r){let w=[];for(let k=0;k<r;k++)w.push(Number(v[S+k].value));n.commands.push({command:M,params:w})}},x=()=>{let r=t[u],c=r.tokenType.toLowerCase()===r.tokenType;switch(r.tokenType){case"M":case"m":case"L":case"l":{d(2,"L",c);break}case"Z":case"z":{d(0,"L",c);break}case"H":case"h":case"V":case"v":{d(1,r.tokenType,c);break}case"C":case"c":{d(6,r.tokenType,c);break}case"S":case"s":case"Q":case"q":{d(4,r.tokenType,c);break}case"T":case"t":{d(2,r.tokenType,c);break}case"A":case"a":{d(7,r.tokenType,c);break}default:{a(t[u],"Wrong path command."),u++;break}}};for(d(2,"L",t[0].tokenType==="m");!l();)x();return n};var ye=e=>$(e).errors.length<=0,$=e=>{let n=_(e);return z(n)},Ce=e=>{var t,i;if(!e||!e.d&&!e.$path)return null;let n=(i=(t=e.$path)==null?void 0:t.getAttribute("d"))!=null?i:e.d;return n?($(n),e.$path?e.$path:n):null};0&&(module.exports={DEFAULT_DECIMAL_PLACES,SVG_NAMESPACE,XMLNS_NAMESPACE,appendOnce,createCircle,createClipPath,createDefs,createEllipse,createGroup,createLine,createMask,createPath,createPattern,createPolygon,createPolyline,createRect,createRectPath,createSVG,createSVGFromString,createStar,createSymbol,createUse,getCommonAttributes,getRectPathD,getSVGAsString,isPathValid,parsePath,prependOnce,saveSVG,setAttributes,transformPath});
//# sourceMappingURL=mz-svg.node.cjs.map
