/* 
mzSVG - the TypeScript-based library for manipulating and animating SVG.
Version: 1.0.3
Author: Miriam Zusin     
Contact: miriam.zusin@gmail.com
Documentation: https://github.com/mzusin/mz-svg
Licensed GPLv3 for open source use, or Commercial License for commercial use - https://github.com/mzusin/index/blob/main/LICENSE.md                 
*/
var z=Object.create;var y=Object.defineProperty,F=Object.defineProperties,Q=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyDescriptors,W=Object.getOwnPropertyNames,$=Object.getOwnPropertySymbols,O=Object.getPrototypeOf,G=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var V=(e,n,t)=>n in e?y(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,R=(e,n)=>{for(var t in n||(n={}))G.call(n,t)&&V(e,t,n[t]);if($)for(var t of $(n))X.call(n,t)&&V(e,t,n[t]);return e},A=(e,n)=>F(e,j(n));var Y=(e,n)=>{for(var t in n)y(e,t,{get:n[t],enumerable:!0})},N=(e,n,t,l)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of W(n))!G.call(e,r)&&r!==t&&y(e,r,{get:()=>n[r],enumerable:!(l=Q(n,r))||l.enumerable});return e};var Z=(e,n,t)=>(t=e!=null?z(O(e)):{},N(n||!e||!e.__esModule?y(t,"default",{value:e,enumerable:!0}):t,e)),K=e=>N(y({},"__esModule",{value:!0}),e);var Ce={};Y(Ce,{DEFAULT_DECIMAL_PLACES:()=>L,SVG_NAMESPACE:()=>m,XMLNS_NAMESPACE:()=>D,appendOnce:()=>ve,createCircle:()=>te,createClipPath:()=>fe,createDefs:()=>oe,createEllipse:()=>ne,createGroup:()=>se,createLine:()=>re,createMask:()=>be,createPath:()=>C,createPattern:()=>de,createPolygon:()=>ae,createPolyline:()=>ie,createRect:()=>ee,createRectPath:()=>me,createSVG:()=>J,createSVGFromString:()=>p,createStar:()=>ue,createSymbol:()=>xe,createUse:()=>ge,getCommonAttributes:()=>g,getRectPathD:()=>q,getSVGAsString:()=>k,isPathValid:()=>we,parsePath:()=>E,prependOnce:()=>Se,saveSVG:()=>he,setAttributes:()=>o,transformPath:()=>ye});module.exports=K(Ce);var m="http://www.w3.org/2000/svg",D="http://www.w3.org/2000/xmlns/",L=2,J=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"svg");t.setAttributeNS(D,"xmlns",m);let l=e==null?void 0:e.viewBox;return e!=null&&e.autoViewBox&&(l=`${(e==null?void 0:e.x)||0} ${(e==null?void 0:e.y)||0} ${(e==null?void 0:e.width)||0} ${(e==null?void 0:e.height)||0}`),o(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["viewBox",l],["preserveAspectRatio",e==null?void 0:e.preserveAspectRatio],...g(e)]),t},p=e=>{let{document:n,svg:t}=e,r=(n||window.document).createElement("div");return r.innerHTML=t,r.firstElementChild},k=e=>e.outerHTML,o=(e,n)=>{if(!(!e||!n))for(let t of n){if(t.length!==2)continue;let l=t[0];if(l==null)continue;let r=t[1];r!=null&&e.setAttribute(l,r.toString())}},g=e=>e?[["id",e.id],["class",e.classes],["style",e.style],["stroke",e.stroke],["stroke-width",e.strokeWidth],["stroke-opacity",e.strokeOpacity],["stroke-linecap",e.strokeLinecap],["stroke-linejoin",e.strokeLinejoin],["stroke-dasharray",e.strokeDasharray],["stroke-dashoffset",e.strokeDashoffset],["stroke-miterlimit",e.strokeMiterlimit],["fill",e.fill],["fill-opacity",e.fillOpacity],["fill-rule",e.fillRule],["filter",e.filter],["mask",e.mask],["transform",e.transform],["vector-effect",e.vectorEffect],["shape-rendering",e.shapeRendering],["clip-path",e.clipPath],["clip-rule",e.clipRule],["opacity",e.opacity],["visibility",e.visibility]]:[];var C=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"path");return e!=null&&e.d&&(e.d=e==null?void 0:e.d.replace(/\s\s+/g," ")),o(t,[["d",e==null?void 0:e.d],["pathLength",e==null?void 0:e.pathLength],...g(e)]),t},ee=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"rect");return o(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["rx",e==null?void 0:e.rx],["ry",e==null?void 0:e.ry],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["pathLength",e==null?void 0:e.pathLength],...g(e)]),t},te=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"circle");return o(t,[["cx",e==null?void 0:e.cx],["cy",e==null?void 0:e.cy],["r",e==null?void 0:e.r],["pathLength",e==null?void 0:e.pathLength],...g(e)]),t},ne=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"ellipse");return o(t,[["cx",e==null?void 0:e.cx],["cy",e==null?void 0:e.cy],["rx",e==null?void 0:e.rx],["ry",e==null?void 0:e.ry],["pathLength",e==null?void 0:e.pathLength],...g(e)]),t},re=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"line");return o(t,[["x1",e==null?void 0:e.x1],["x2",e==null?void 0:e.x2],["y1",e==null?void 0:e.y1],["y2",e==null?void 0:e.y2],["pathLength",e==null?void 0:e.pathLength],...g(e)]),t},ae=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"polygon");return o(t,[["id",e==null?void 0:e.id],["class",e==null?void 0:e.classes],["style",e==null?void 0:e.style],["points",e==null?void 0:e.points],["pathLength",e==null?void 0:e.pathLength],...g(e)]),t},ie=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"polyline");return o(t,[["id",e==null?void 0:e.id],["class",e==null?void 0:e.classes],["style",e==null?void 0:e.style],["points",e==null?void 0:e.points],["pathLength",e==null?void 0:e.pathLength],...g(e)]),t};var le=Math.pow,T=(e,n=1/0)=>{if(n===1/0)return e;n<0&&(n=0);let t=le(10,n);return Math.round(e*t)/t};var ue=e=>{let{centerX:n,centerY:t,outerRadius:l,innerRadius:r}=e,c=4,u=[],f=Math.max(c,Number(e.raysNumber)||c),h=e.decimalPlaces===null||e.decimalPlaces===void 0?L:e.decimalPlaces,v=2*Math.PI/f,a=v/2;for(let s=0,d=1.5*Math.PI;s<f;s++,d+=v)u.push([T(n+Math.cos(d)*l,h),T(t+Math.sin(d)*l,h)]),u.push([T(n+Math.cos(d+a)*r,h),T(t+Math.sin(d+a)*r,h)]);let i=`M ${u[0][0]} ${u[0][1]} `;i+=u.map(s=>`L ${s[0]} ${s[1]}`).join(" "),i+=" Z";let b=A(R({},e),{d:i});return C(b)};var U=Z(require("fs"),1),ce="Either an SVG element or an SVG string must be provided.",he=e=>{if(!e.$svg&&!e.svgString)throw new Error(ce);let t=`<?xml version="1.0" encoding="UTF-8"?>${e.$svg?k(e.$svg):e.svgString}`;U.default.writeFileSync(e.absOutFilePath,(t!=null?t:"").trim(),"utf8")};var q=e=>{let{x:n,y:t,width:l,height:r,rx:c,ry:u}=e,f=c||0,h=u||0;if(f||h){let v=`${n} ${t}`,a=`${n+f} ${t}`,i=`${n+l-f} ${t}`,b=`${n+l} ${t}`,s=`${n+l} ${t+h}`,d=`${n+l} ${t+r-h}`,S=`${n+l} ${t+r}`,I=`${n+l-f} ${t+r}`,w=`${n+f} ${t+r}`,x=`${n} ${t+r}`,M=`${n} ${t+r-h}`,P=`${n} ${t+h}`;return`
            M${a} 
            L${i}
            C${i} ${b} ${s} 
            L${d} 
            C${d} ${S} ${I} 
            L${w} 
            C${w} ${x} ${M} 
            L${P} 
            C${P} ${v} ${a} Z`.replace(/\s\s+/g," ").trim()}return`M${n+l} ${t} L${n+l} ${r+t} L${n} ${r+t} L${n} ${t} L${n+l} ${t} Z`},me=e=>{let n=A(R({},e),{d:q({x:e.x,y:e.y,width:e.width,height:e.height,rx:e.rx,ry:e.ry})});return C(n)};var se=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"g");return o(t,[...g(e)]),t},oe=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"defs");return o(t,[["id",e==null?void 0:e.id],["class",e==null?void 0:e.classes]]),t},ge=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"use");return o(t,[["href",e==null?void 0:e.href],["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],...g(e)]),t},de=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"pattern");return o(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["href",e==null?void 0:e.href],["patternContentUnits",e==null?void 0:e.patternContentUnits],["patternTransform",e==null?void 0:e.patternTransform],["patternUnits",e==null?void 0:e.patternUnits],["preserveAspectRatio",e==null?void 0:e.preserveAspectRatio],["viewBox",e==null?void 0:e.viewBox],...g(e)]),t},fe=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"clipPath");return o(t,[["clipPathUnits",e==null?void 0:e.clipPathUnits],...g(e)]),t},be=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"mask");return o(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["maskContentUnits",e==null?void 0:e.maskContentUnits],["maskUnits",e==null?void 0:e.maskUnits],...g(e)]),t},xe=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"symbol");return o(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["preserveAspectRatio",e==null?void 0:e.preserveAspectRatio],["refX",e==null?void 0:e.refX],["refY",e==null?void 0:e.refY],["viewBox",e==null?void 0:e.viewBox],...g(e)]),t};var ve=(e,n)=>{let t=n.tagName.toLowerCase().trim();e.querySelector(t)||e.append(n)},Se=(e,n)=>{let t=n.tagName.toLowerCase().trim();e.querySelector(t)||e.prepend(n)};var B=new RegExp("^[+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d+)?(?:(?<=\\d)(?:[eE][+-]?\\d+))?"),H=e=>{let n={tokens:[],errors:[]};if(!e||e.trim()==="")return n;let t=0,l=0,r=0,c=()=>t>=e.length,u=i=>{n.tokens.push({tokenType:i,line:l,col:r})},f=i=>{n.tokens.push({tokenType:"num",value:i,line:l,col:r})},h=i=>{n.errors.push({line:l,col:r,msg:i})},v=()=>c()?!1:B.test(e.substring(t)),a=()=>{let i=e[t];if(i.charAt(0)===`
`||i.charAt(0)==="\r"){t++,r=0,l++;return}if(/\s/.test(i)||i===","){t++,r++;return}if(v()){let b=e.substring(t).match(B);if(b&&b.length>0){let s=b[0];f(s),t+=s.length,r+=s.length;return}}switch(i){case"M":u("M");break;case"m":u("m");break;case"Z":u("Z");break;case"z":u("z");break;case"L":u("L");break;case"l":u("l");break;case"H":u("H");break;case"h":u("h");break;case"V":u("V");break;case"v":u("v");break;case"C":u("C");break;case"c":u("c");break;case"S":u("S");break;case"s":u("s");break;case"Q":u("Q");break;case"q":u("q");break;case"T":u("T");break;case"t":u("t");break;case"A":u("A");break;case"a":u("a");break;default:{h(`Unexpected character ${i}`);break}}t++,r++};for(;!c();)a();return n};var _=e=>{let n={commands:[],errors:e.errors||[]};if(e.errors.length>0||e.tokens.length===0)return n;let{tokens:t,errors:l}=e,r=(a,i)=>{l.push({line:a==null?void 0:a.line,col:a==null?void 0:a.col,msg:i})};if(t[0].tokenType!=="M"&&t[0].tokenType!=="m")return r(t[0],"A path data segment must begin with a 'moveto' command 'M' or 'm'."),n;let c=0,u=()=>c>=t.length,f=a=>{var s,d;if(!a||a.toLowerCase()!=="a")return!0;let i=(((s=t[c+4])==null?void 0:s.value)||"").toString(),b=(((d=t[c+5])==null?void 0:d.value)||"").toString();return(i==="0"||i==="1")&&(b==="0"||b==="1")},h=(a,i,b)=>{var w;let s=t[c].tokenType,d=[];if(a>0)for(let x=1;x<=a;x++){if(!t[c+x]||t[c+x].tokenType!=="num"){r(t[c],`Expected number(s) after command ${s}.`),c+=a;return}d.push(Number(t[c+x].value))}if(!f(s)){r(t[c],"Arc flags must be 0 or 1."),c+=a+1;return}if(!f(s)){r(t[c],"Arc flags must be 0 or 1."),c+=a+1;return}if(n.commands.push({command:t[c].tokenType,params:d}),c+=a+1,a<=0)return;let S=[];for(;((w=t[c])==null?void 0:w.tokenType)==="num";)S.push(t[c]),c++;if(S.length%a!==0){r(S[S.length-1],"Expected a number.");return}let I=b?i.toLowerCase():i.toUpperCase();for(let x=0;x<S.length;x+=a){let M=[];for(let P=0;P<a;P++)M.push(Number(S[x+P].value));n.commands.push({command:I,params:M})}},v=()=>{let a=t[c],i=a.tokenType.toLowerCase()===a.tokenType;switch(a.tokenType){case"M":case"m":case"L":case"l":{h(2,"L",i);break}case"Z":case"z":{h(0,"L",i);break}case"H":case"h":case"V":case"v":{h(1,a.tokenType,i);break}case"C":case"c":{h(6,a.tokenType,i);break}case"S":case"s":case"Q":case"q":{h(4,a.tokenType,i);break}case"T":case"t":{h(2,a.tokenType,i);break}case"A":case"a":{h(7,a.tokenType,i);break}default:{r(t[c],"Wrong path command."),c++;break}}};for(h(2,"L",t[0].tokenType==="m");!u();)v();return n};var we=e=>E(e).errors.length<=0,E=e=>{let n=H(e);return _(n)},ye=e=>{var t,l;if(!e||!e.d&&!e.$path)return null;let n=(l=(t=e.$path)==null?void 0:t.getAttribute("d"))!=null?l:e.d;return n?(E(n),e.$path?e.$path:n):null};0&&(module.exports={DEFAULT_DECIMAL_PLACES,SVG_NAMESPACE,XMLNS_NAMESPACE,appendOnce,createCircle,createClipPath,createDefs,createEllipse,createGroup,createLine,createMask,createPath,createPattern,createPolygon,createPolyline,createRect,createRectPath,createSVG,createSVGFromString,createStar,createSymbol,createUse,getCommonAttributes,getRectPathD,getSVGAsString,isPathValid,parsePath,prependOnce,saveSVG,setAttributes,transformPath});
//# sourceMappingURL=mz-svg.node.cjs.map
