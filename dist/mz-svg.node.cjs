/* 
mzSVG - the TypeScript-based library for manipulating and animating SVG.
Version: 1.0.1
Author: Miriam Zusin     
Contact: miriam.zusin@gmail.com
Documentation: https://github.com/mzusin/mz-svg
Licensed GPLv3 for open source use, or Commercial License for commercial use - https://github.com/mzusin/index/blob/main/LICENSE.md                 
*/
var z=Object.create;var P=Object.defineProperty,Q=Object.defineProperties,F=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyDescriptors,W=Object.getOwnPropertyNames,A=Object.getOwnPropertySymbols,O=Object.getPrototypeOf,L=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var I=(e,n,t)=>n in e?P(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,w=(e,n)=>{for(var t in n||(n={}))L.call(n,t)&&I(e,t,n[t]);if(A)for(var t of A(n))X.call(n,t)&&I(e,t,n[t]);return e},y=(e,n)=>Q(e,j(n));var Y=(e,n)=>{for(var t in n)P(e,t,{get:n[t],enumerable:!0})},$=(e,n,t,l)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of W(n))!L.call(e,r)&&r!==t&&P(e,r,{get:()=>n[r],enumerable:!(l=F(n,r))||l.enumerable});return e};var Z=(e,n,t)=>(t=e!=null?z(O(e)):{},$(n||!e||!e.__esModule?P(t,"default",{value:e,enumerable:!0}):t,e)),K=e=>$(P({},"__esModule",{value:!0}),e);var Ce={};Y(Ce,{DEFAULT_DECIMAL_PLACES:()=>E,SVG_NAMESPACE:()=>o,XMLNS_NAMESPACE:()=>D,appendOnce:()=>ve,createCircle:()=>te,createClipPath:()=>be,createDefs:()=>se,createEllipse:()=>ne,createGroup:()=>oe,createLine:()=>ae,createMask:()=>fe,createPath:()=>S,createPattern:()=>de,createPolygon:()=>re,createPolyline:()=>ie,createRect:()=>ee,createRectPath:()=>he,createSVG:()=>J,createSVGFromString:()=>p,createStar:()=>ue,createSymbol:()=>xe,createUse:()=>ge,getCommonAttributes:()=>d,getRectPathD:()=>V,getSVGAsString:()=>T,parseD:()=>M,prependOnce:()=>Pe,saveSVG:()=>ce,setAttributes:()=>s,transformPath:()=>Se});module.exports=K(Ce);var o="http://www.w3.org/2000/svg",D="http://www.w3.org/2000/xmlns/",E=2,J=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(o,"svg");t.setAttributeNS(D,"xmlns",o);let l=e==null?void 0:e.viewBox;return e!=null&&e.autoViewBox&&(l=`${(e==null?void 0:e.x)||0} ${(e==null?void 0:e.y)||0} ${(e==null?void 0:e.width)||0} ${(e==null?void 0:e.height)||0}`),s(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["viewBox",l],["preserveAspectRatio",e==null?void 0:e.preserveAspectRatio],...d(e)]),t},p=e=>{let{document:n,svg:t}=e,r=(n||window.document).createElement("div");return r.innerHTML=t,r.firstElementChild},T=e=>e.outerHTML,s=(e,n)=>{if(!(!e||!n))for(let t of n){if(t.length!==2)continue;let l=t[0];if(l==null)continue;let r=t[1];r!=null&&e.setAttribute(l,r.toString())}},d=e=>e?[["id",e.id],["class",e.classes],["style",e.style],["stroke",e.stroke],["stroke-width",e.strokeWidth],["stroke-opacity",e.strokeOpacity],["stroke-linecap",e.strokeLinecap],["stroke-linejoin",e.strokeLinejoin],["stroke-dasharray",e.strokeDasharray],["stroke-dashoffset",e.strokeDashoffset],["stroke-miterlimit",e.strokeMiterlimit],["fill",e.fill],["fill-opacity",e.fillOpacity],["fill-rule",e.fillRule],["filter",e.filter],["mask",e.mask],["transform",e.transform],["vector-effect",e.vectorEffect],["shape-rendering",e.shapeRendering],["clip-path",e.clipPath],["clip-rule",e.clipRule],["opacity",e.opacity],["visibility",e.visibility]]:[];var S=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(o,"path");return e!=null&&e.d&&(e.d=e==null?void 0:e.d.replace(/\s\s+/g," ")),s(t,[["d",e==null?void 0:e.d],["pathLength",e==null?void 0:e.pathLength],...d(e)]),t},ee=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(o,"rect");return s(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["rx",e==null?void 0:e.rx],["ry",e==null?void 0:e.ry],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["pathLength",e==null?void 0:e.pathLength],...d(e)]),t},te=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(o,"circle");return s(t,[["cx",e==null?void 0:e.cx],["cy",e==null?void 0:e.cy],["r",e==null?void 0:e.r],["pathLength",e==null?void 0:e.pathLength],...d(e)]),t},ne=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(o,"ellipse");return s(t,[["cx",e==null?void 0:e.cx],["cy",e==null?void 0:e.cy],["rx",e==null?void 0:e.rx],["ry",e==null?void 0:e.ry],["pathLength",e==null?void 0:e.pathLength],...d(e)]),t},ae=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(o,"line");return s(t,[["x1",e==null?void 0:e.x1],["x2",e==null?void 0:e.x2],["y1",e==null?void 0:e.y1],["y2",e==null?void 0:e.y2],["pathLength",e==null?void 0:e.pathLength],...d(e)]),t},re=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(o,"polygon");return s(t,[["id",e==null?void 0:e.id],["class",e==null?void 0:e.classes],["style",e==null?void 0:e.style],["points",e==null?void 0:e.points],["pathLength",e==null?void 0:e.pathLength],...d(e)]),t},ie=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(o,"polyline");return s(t,[["id",e==null?void 0:e.id],["class",e==null?void 0:e.classes],["style",e==null?void 0:e.style],["points",e==null?void 0:e.points],["pathLength",e==null?void 0:e.pathLength],...d(e)]),t};var le=Math.pow,C=(e,n=1/0)=>{if(n===1/0)return e;n<0&&(n=0);let t=le(10,n);return Math.round(e*t)/t};var ue=e=>{let{centerX:n,centerY:t,outerRadius:l,innerRadius:r}=e,a=4,u=[],f=Math.max(a,Number(e.raysNumber)||a),b=e.decimalPlaces===null||e.decimalPlaces===void 0?E:e.decimalPlaces,v=2*Math.PI/f,x=v/2;for(let i=0,g=1.5*Math.PI;i<f;i++,g+=v)u.push([C(n+Math.cos(g)*l,b),C(t+Math.sin(g)*l,b)]),u.push([C(n+Math.cos(g+x)*r,b),C(t+Math.sin(g+x)*r,b)]);let c=`M ${u[0][0]} ${u[0][1]} `;c+=u.map(i=>`L ${i[0]} ${i[1]}`).join(" "),c+=" Z";let m=y(w({},e),{d:c});return S(m)};var N=Z(require("fs"),1),me="Either an SVG element or an SVG string must be provided.",ce=e=>{if(!e.$svg&&!e.svgString)throw new Error(me);let t=`<?xml version="1.0" encoding="UTF-8"?>${e.$svg?T(e.$svg):e.svgString}`;N.default.writeFileSync(e.absOutFilePath,(t!=null?t:"").trim(),"utf8")};var V=e=>{let{x:n,y:t,width:l,height:r,rx:a,ry:u}=e,f=a||0,b=u||0;if(f||b){let v=`${n} ${t}`,x=`${n+f} ${t}`,c=`${n+l-f} ${t}`,m=`${n+l} ${t}`,i=`${n+l} ${t+b}`,g=`${n+l} ${t+r-b}`,h=`${n+l} ${t+r}`,B=`${n+l-f} ${t+r}`,R=`${n+f} ${t+r}`,H=`${n} ${t+r}`,_=`${n} ${t+r-b}`,k=`${n} ${t+b}`;return`
            M${x} 
            L${c}
            C${c} ${m} ${i} 
            L${g} 
            C${g} ${h} ${B} 
            L${R} 
            C${R} ${H} ${_} 
            L${k} 
            C${k} ${v} ${x} Z`.replace(/\s\s+/g," ").trim()}return`M${n+l} ${t} L${n+l} ${r+t} L${n} ${r+t} L${n} ${t} L${n+l} ${t} Z`},he=e=>{let n=y(w({},e),{d:V({x:e.x,y:e.y,width:e.width,height:e.height,rx:e.rx,ry:e.ry})});return S(n)};var oe=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(o,"g");return s(t,[...d(e)]),t},se=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(o,"defs");return s(t,[["id",e==null?void 0:e.id],["class",e==null?void 0:e.classes]]),t},ge=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(o,"use");return s(t,[["href",e==null?void 0:e.href],["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],...d(e)]),t},de=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(o,"pattern");return s(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["href",e==null?void 0:e.href],["patternContentUnits",e==null?void 0:e.patternContentUnits],["patternTransform",e==null?void 0:e.patternTransform],["patternUnits",e==null?void 0:e.patternUnits],["preserveAspectRatio",e==null?void 0:e.preserveAspectRatio],["viewBox",e==null?void 0:e.viewBox],...d(e)]),t},be=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(o,"clipPath");return s(t,[["clipPathUnits",e==null?void 0:e.clipPathUnits],...d(e)]),t},fe=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(o,"mask");return s(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["maskContentUnits",e==null?void 0:e.maskContentUnits],["maskUnits",e==null?void 0:e.maskUnits],...d(e)]),t},xe=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(o,"symbol");return s(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["preserveAspectRatio",e==null?void 0:e.preserveAspectRatio],["refX",e==null?void 0:e.refX],["refY",e==null?void 0:e.refY],["viewBox",e==null?void 0:e.viewBox],...d(e)]),t};var ve=(e,n)=>{let t=n.tagName.toLowerCase().trim();e.querySelector(t)||e.append(n)},Pe=(e,n)=>{let t=n.tagName.toLowerCase().trim();e.querySelector(t)||e.prepend(n)};var G=e=>{let n={commands:[],errors:e.errors||[]};if(e.errors.length>0||e.tokens.length===0)return n;let{tokens:t,errors:l}=e,r=(m,i)=>{l.push({line:m==null?void 0:m.line,col:m==null?void 0:m.col,msg:i})};if(t[0].tokenType!=="M"&&t[0].tokenType!=="m")return r(t[0],"A path data segment must begin with a 'moveto' command 'M' or 'm'."),n;let a=0,u=()=>a>=t.length,f=m=>{var g;if(!t[a+1]||!t[a+2]){r(t[a],`Expected number(s) after command ${t[a].tokenType}.`),a+=2;return}n.commands.push({command:t[a].tokenType,params:[Number(t[a+1].value),Number(t[a+2].value)]}),a+=3;let i=[];for(;((g=t[a])==null?void 0:g.tokenType)==="num";)i.push(t[a]),a++;if(i.length%2!==0){r(i[i.length-1],"Expected a number.");return}for(let h=0;h<i.length;h+=2)n.commands.push({command:m?"l":"L",params:[Number(i[h].value),Number(i[h+1].value)]})},b=m=>{var g;let i=t[a].tokenType;if(!t[a+1]){r(t[a],`Expected number(s) after command ${t[a].tokenType}.`),a++;return}for(n.commands.push({command:t[a].tokenType,params:[Number(t[a+1].value)]}),a+=2;((g=t[a])==null?void 0:g.tokenType)==="num";)n.commands.push({command:i,params:[Number(t[a].value)]}),a++},v=m=>{var g;for(let h=1;h<=6;h++)if(!t[a+h]){r(t[a],`Expected number(s) after command ${t[a].tokenType}.`),a+=6;return}n.commands.push({command:t[a].tokenType,params:[Number(t[a+1].value),Number(t[a+2].value),Number(t[a+3].value),Number(t[a+4].value),Number(t[a+5].value),Number(t[a+6].value)]}),a+=7;let i=[];for(;((g=t[a])==null?void 0:g.tokenType)==="num";)i.push(t[a]),a++;if(i.length%6!==0){r(i[i.length-1],"Expected a number.");return}for(let h=0;h<i.length;h+=6)n.commands.push({command:m?"l":"L",params:[Number(i[h].value),Number(i[h+1].value),Number(i[h+2].value),Number(i[h+3].value),Number(i[h+4].value),Number(i[h+5].value)]})},x=()=>{n.commands.push({command:t[a].tokenType,params:[]}),a++},c=()=>{let m=t[a],i=m.tokenType.toLowerCase()===m.tokenType;switch(m.tokenType){case"M":case"m":case"L":case"l":{f(i);break}case"Z":case"z":{x();break}case"H":case"h":case"V":case"v":{b(i);break}case"C":case"c":{v(i);break}case"S":case"s":break;case"Q":case"q":break;case"T":case"t":break;case"A":case"a":break;default:{r(t[a],"Wrong path command."),a++;break}}};for(f(t[0].tokenType==="m");!u();)c();return n};var U=new RegExp("^[+\\-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d+)?(?:(?<=\\d)(?:[eE][+\\-]?\\d+))?"),q=e=>{let n={tokens:[],errors:[]};if(!e||e.trim()==="")return n;let t=0,l=0,r=0,a=()=>t>=e.length,u=c=>{n.tokens.push({tokenType:c,line:l,col:r})},f=c=>{n.tokens.push({tokenType:"num",value:c,line:l,col:r})},b=c=>{n.errors.push({line:l,col:r,msg:c})},v=()=>a()?!1:U.test(e.substring(t)),x=()=>{let c=e[t];if(c.charAt(0)===`
`||c.charAt(0)==="\r"){t++,r=0,l++;return}if(/\s/.test(c)||c===","){t++,r++;return}if(v()){let m=e.substring(t).match(U);if(m&&m.length>0){let i=m[0];f(i),t+=i.length,r+=i.length;return}}switch(c){case"M":u("M");break;case"m":u("m");break;case"Z":u("Z");break;case"z":u("z");break;case"L":u("L");break;case"l":u("l");break;case"H":u("H");break;case"h":u("h");break;case"V":u("V");break;case"v":u("v");break;case"C":u("C");break;case"c":u("c");break;case"S":u("S");break;case"s":u("s");break;case"Q":u("Q");break;case"q":u("q");break;case"T":u("T");break;case"t":u("t");break;case"A":u("A");break;case"a":u("a");break;default:{b(`Unexpected character ${c}`);break}}t++,r++};for(;!a();)x();return n};var M=e=>{let n=q(e);return G(n)};var Se=e=>{var t,l;if(!e||!e.d&&!e.$path)return null;let n=(l=(t=e.$path)==null?void 0:t.getAttribute("d"))!=null?l:e.d;return n?(M(n),e.$path?e.$path:n):null};0&&(module.exports={DEFAULT_DECIMAL_PLACES,SVG_NAMESPACE,XMLNS_NAMESPACE,appendOnce,createCircle,createClipPath,createDefs,createEllipse,createGroup,createLine,createMask,createPath,createPattern,createPolygon,createPolyline,createRect,createRectPath,createSVG,createSVGFromString,createStar,createSymbol,createUse,getCommonAttributes,getRectPathD,getSVGAsString,parseD,prependOnce,saveSVG,setAttributes,transformPath});
//# sourceMappingURL=mz-svg.node.cjs.map
