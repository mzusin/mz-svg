/* 
mzSVG - the TypeScript-based library for manipulating and animating SVG.
Version: 1.0.2
Author: Miriam Zusin     
Contact: miriam.zusin@gmail.com
Documentation: https://github.com/mzusin/mz-svg
Licensed GPLv3 for open source use, or Commercial License for commercial use - https://github.com/mzusin/index/blob/main/LICENSE.md                 
*/
var j=Object.create;var M=Object.defineProperty,W=Object.defineProperties,O=Object.getOwnPropertyDescriptor,X=Object.getOwnPropertyDescriptors,Y=Object.getOwnPropertyNames,G=Object.getOwnPropertySymbols,Z=Object.getPrototypeOf,U=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var D=(e,n,t)=>n in e?M(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,L=(e,n)=>{for(var t in n||(n={}))U.call(n,t)&&D(e,t,n[t]);if(G)for(var t of G(n))K.call(n,t)&&D(e,t,n[t]);return e},E=(e,n)=>W(e,X(n));var J=(e,n)=>{for(var t in n)M(e,t,{get:n[t],enumerable:!0})},q=(e,n,t,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of Y(n))!U.call(e,a)&&a!==t&&M(e,a,{get:()=>n[a],enumerable:!(i=O(n,a))||i.enumerable});return e};var p=(e,n,t)=>(t=e!=null?j(Z(e)):{},q(n||!e||!e.__esModule?M(t,"default",{value:e,enumerable:!0}):t,e)),ee=e=>q(M({},"__esModule",{value:!0}),e);var Re={};J(Re,{DEFAULT_DECIMAL_PLACES:()=>$,SVG_NAMESPACE:()=>m,XMLNS_NAMESPACE:()=>B,appendOnce:()=>we,createCircle:()=>ae,createClipPath:()=>ve,createDefs:()=>fe,createEllipse:()=>ie,createGroup:()=>de,createLine:()=>le,createMask:()=>Se,createPath:()=>R,createPattern:()=>xe,createPolygon:()=>ue,createPolyline:()=>ce,createRect:()=>re,createRectPath:()=>ge,createSVG:()=>te,createSVGFromString:()=>ne,createStar:()=>me,createSymbol:()=>Pe,createUse:()=>be,getCommonAttributes:()=>o,getRectPathD:()=>_,getSVGAsString:()=>V,isPathValid:()=>Te,parsePath:()=>N,prependOnce:()=>ye,saveSVG:()=>oe,setAttributes:()=>s,transformPath:()=>Me});module.exports=ee(Re);var m="http://www.w3.org/2000/svg",B="http://www.w3.org/2000/xmlns/",$=2,te=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"svg");t.setAttributeNS(B,"xmlns",m);let i=e==null?void 0:e.viewBox;return e!=null&&e.autoViewBox&&(i=`${(e==null?void 0:e.x)||0} ${(e==null?void 0:e.y)||0} ${(e==null?void 0:e.width)||0} ${(e==null?void 0:e.height)||0}`),s(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["viewBox",i],["preserveAspectRatio",e==null?void 0:e.preserveAspectRatio],...o(e)]),t},ne=e=>{let{document:n,svg:t}=e,a=(n||window.document).createElement("div");return a.innerHTML=t,a.firstElementChild},V=e=>e.outerHTML,s=(e,n)=>{if(!(!e||!n))for(let t of n){if(t.length!==2)continue;let i=t[0];if(i==null)continue;let a=t[1];a!=null&&e.setAttribute(i,a.toString())}},o=e=>e?[["id",e.id],["class",e.classes],["style",e.style],["stroke",e.stroke],["stroke-width",e.strokeWidth],["stroke-opacity",e.strokeOpacity],["stroke-linecap",e.strokeLinecap],["stroke-linejoin",e.strokeLinejoin],["stroke-dasharray",e.strokeDasharray],["stroke-dashoffset",e.strokeDashoffset],["stroke-miterlimit",e.strokeMiterlimit],["fill",e.fill],["fill-opacity",e.fillOpacity],["fill-rule",e.fillRule],["filter",e.filter],["mask",e.mask],["transform",e.transform],["vector-effect",e.vectorEffect],["shape-rendering",e.shapeRendering],["clip-path",e.clipPath],["clip-rule",e.clipRule],["opacity",e.opacity],["visibility",e.visibility]]:[];var R=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"path");return e!=null&&e.d&&(e.d=e==null?void 0:e.d.replace(/\s\s+/g," ")),s(t,[["d",e==null?void 0:e.d],["pathLength",e==null?void 0:e.pathLength],...o(e)]),t},re=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"rect");return s(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["rx",e==null?void 0:e.rx],["ry",e==null?void 0:e.ry],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["pathLength",e==null?void 0:e.pathLength],...o(e)]),t},ae=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"circle");return s(t,[["cx",e==null?void 0:e.cx],["cy",e==null?void 0:e.cy],["r",e==null?void 0:e.r],["pathLength",e==null?void 0:e.pathLength],...o(e)]),t},ie=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"ellipse");return s(t,[["cx",e==null?void 0:e.cx],["cy",e==null?void 0:e.cy],["rx",e==null?void 0:e.rx],["ry",e==null?void 0:e.ry],["pathLength",e==null?void 0:e.pathLength],...o(e)]),t},le=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"line");return s(t,[["x1",e==null?void 0:e.x1],["x2",e==null?void 0:e.x2],["y1",e==null?void 0:e.y1],["y2",e==null?void 0:e.y2],["pathLength",e==null?void 0:e.pathLength],...o(e)]),t},ue=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"polygon");return s(t,[["id",e==null?void 0:e.id],["class",e==null?void 0:e.classes],["style",e==null?void 0:e.style],["points",e==null?void 0:e.points],["pathLength",e==null?void 0:e.pathLength],...o(e)]),t},ce=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"polyline");return s(t,[["id",e==null?void 0:e.id],["class",e==null?void 0:e.classes],["style",e==null?void 0:e.style],["points",e==null?void 0:e.points],["pathLength",e==null?void 0:e.pathLength],...o(e)]),t};var he=Math.pow,A=(e,n=1/0)=>{if(n===1/0)return e;n<0&&(n=0);let t=he(10,n);return Math.round(e*t)/t};var me=e=>{let{centerX:n,centerY:t,outerRadius:i,innerRadius:a}=e,c=4,l=[],b=Math.max(c,Number(e.raysNumber)||c),d=e.decimalPlaces===null||e.decimalPlaces===void 0?$:e.decimalPlaces,g=2*Math.PI/b,x=g/2;for(let h=0,f=1.5*Math.PI;h<b;h++,f+=g)l.push([A(n+Math.cos(f)*i,d),A(t+Math.sin(f)*i,d)]),l.push([A(n+Math.cos(f+x)*a,d),A(t+Math.sin(f+x)*a,d)]);let r=`M ${l[0][0]} ${l[0][1]} `;r+=l.map(h=>`L ${h[0]} ${h[1]}`).join(" "),r+=" Z";let u=E(L({},e),{d:r});return R(u)};var H=p(require("fs"),1),se="Either an SVG element or an SVG string must be provided.",oe=e=>{if(!e.$svg&&!e.svgString)throw new Error(se);let t=`<?xml version="1.0" encoding="UTF-8"?>${e.$svg?V(e.$svg):e.svgString}`;H.default.writeFileSync(e.absOutFilePath,(t!=null?t:"").trim(),"utf8")};var _=e=>{let{x:n,y:t,width:i,height:a,rx:c,ry:l}=e,b=c||0,d=l||0;if(b||d){let g=`${n} ${t}`,x=`${n+b} ${t}`,r=`${n+i-b} ${t}`,u=`${n+i} ${t}`,h=`${n+i} ${t+d}`,f=`${n+i} ${t+a-d}`,C=`${n+i} ${t+a}`,P=`${n+i-b} ${t+a}`,I=`${n+b} ${t+a}`,k=`${n} ${t+a}`,v=`${n} ${t+a-d}`,w=`${n} ${t+d}`;return`
            M${x} 
            L${r}
            C${r} ${u} ${h} 
            L${f} 
            C${f} ${C} ${P} 
            L${I} 
            C${I} ${k} ${v} 
            L${w} 
            C${w} ${g} ${x} Z`.replace(/\s\s+/g," ").trim()}return`M${n+i} ${t} L${n+i} ${a+t} L${n} ${a+t} L${n} ${t} L${n+i} ${t} Z`},ge=e=>{let n=E(L({},e),{d:_({x:e.x,y:e.y,width:e.width,height:e.height,rx:e.rx,ry:e.ry})});return R(n)};var de=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"g");return s(t,[...o(e)]),t},fe=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"defs");return s(t,[["id",e==null?void 0:e.id],["class",e==null?void 0:e.classes]]),t},be=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"use");return s(t,[["href",e==null?void 0:e.href],["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],...o(e)]),t},xe=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"pattern");return s(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["href",e==null?void 0:e.href],["patternContentUnits",e==null?void 0:e.patternContentUnits],["patternTransform",e==null?void 0:e.patternTransform],["patternUnits",e==null?void 0:e.patternUnits],["preserveAspectRatio",e==null?void 0:e.preserveAspectRatio],["viewBox",e==null?void 0:e.viewBox],...o(e)]),t},ve=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"clipPath");return s(t,[["clipPathUnits",e==null?void 0:e.clipPathUnits],...o(e)]),t},Se=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"mask");return s(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["maskContentUnits",e==null?void 0:e.maskContentUnits],["maskUnits",e==null?void 0:e.maskUnits],...o(e)]),t},Pe=e=>{let t=((e==null?void 0:e.document)||window.document).createElementNS(m,"symbol");return s(t,[["x",e==null?void 0:e.x],["y",e==null?void 0:e.y],["width",e==null?void 0:e.width],["height",e==null?void 0:e.height],["preserveAspectRatio",e==null?void 0:e.preserveAspectRatio],["refX",e==null?void 0:e.refX],["refY",e==null?void 0:e.refY],["viewBox",e==null?void 0:e.viewBox],...o(e)]),t};var we=(e,n)=>{let t=n.tagName.toLowerCase().trim();e.querySelector(t)||e.append(n)},ye=(e,n)=>{let t=n.tagName.toLowerCase().trim();e.querySelector(t)||e.prepend(n)};var z=new RegExp("^[+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d+)?(?:(?<=\\d)(?:[eE][+-]?\\d+))?"),F=e=>{let n={tokens:[],errors:[]};if(!e||e.trim()==="")return n;let t=0,i=0,a=0,c=()=>t>=e.length,l=r=>{n.tokens.push({tokenType:r,line:i,col:a})},b=r=>{n.tokens.push({tokenType:"num",value:r,line:i,col:a})},d=r=>{n.errors.push({line:i,col:a,msg:r})},g=()=>c()?!1:z.test(e.substring(t)),x=()=>{let r=e[t];if(r.charAt(0)===`
`||r.charAt(0)==="\r"){t++,a=0,i++;return}if(/\s/.test(r)||r===","){t++,a++;return}if(g()){let u=e.substring(t).match(z);if(u&&u.length>0){let h=u[0];b(h),t+=h.length,a+=h.length;return}}switch(r){case"M":l("M");break;case"m":l("m");break;case"Z":l("Z");break;case"z":l("z");break;case"L":l("L");break;case"l":l("l");break;case"H":l("H");break;case"h":l("h");break;case"V":l("V");break;case"v":l("v");break;case"C":l("C");break;case"c":l("c");break;case"S":l("S");break;case"s":l("s");break;case"Q":l("Q");break;case"q":l("q");break;case"T":l("T");break;case"t":l("t");break;case"A":l("A");break;case"a":l("a");break;default:{d(`Unexpected character ${r}`);break}}t++,a++};for(;!c();)x();return n};var Q=e=>{let n={commands:[],errors:e.errors||[]};if(e.errors.length>0||e.tokens.length===0)return n;let{tokens:t,errors:i}=e,a=(r,u)=>{i.push({line:r==null?void 0:r.line,col:r==null?void 0:r.col,msg:u})};if(t[0].tokenType!=="M"&&t[0].tokenType!=="m")return a(t[0],"A path data segment must begin with a 'moveto' command 'M' or 'm'."),n;let c=0,l=()=>c>=t.length,b=(r,u)=>{if(!r||r.toLowerCase()!=="a")return!0;let h=u[3].toString(),f=u[4].toString();return(h==="0"||h==="1")&&(f==="0"||f==="1")},d=r=>{if(Number.isInteger(r))return[r];let u=r.toString().split("."),h=Number(u[0]);return h===0?[r]:[h,+`0.${u[1]}`]},g=(r,u,h)=>{var k;let f=t[c].tokenType,C=[];if(r>0){let v=[],w=0;for(let S=1;S<=r&&(t[c+S]&&t[c+S].tokenType==="num");S++){let T=d(Number(t[c+S].value));v.push(T),w+=T.length}if(w<r){a(t[c],`Expected number(s) after command ${f}.`),c+=r;return}let y=Math.abs(v.length-r);for(let S of v)if(C.push(S[0]),!(y<=0))for(let T=1;T<S.length&&y>0;T++)C.push(S[T]),y--}if(!b(f,C)){a(t[c],"Arc flags must be 0 or 1."),c+=r+1;return}if(n.commands.push({command:t[c].tokenType,params:C}),c+=r+1,r<=0)return;let P=[];for(;((k=t[c])==null?void 0:k.tokenType)==="num";)P.push(t[c]),c++;if(P.length%r!==0){a(P[P.length-1],"Expected a number.");return}let I=h?u.toLowerCase():u.toUpperCase();for(let v=0;v<P.length;v+=r){let w=[];for(let y=0;y<r;y++)w.push(Number(P[v+y].value));n.commands.push({command:I,params:w})}},x=()=>{let r=t[c],u=r.tokenType.toLowerCase()===r.tokenType;switch(r.tokenType){case"M":case"m":case"L":case"l":{g(2,"L",u);break}case"Z":case"z":{g(0,"L",u);break}case"H":case"h":case"V":case"v":{g(1,r.tokenType,u);break}case"C":case"c":{g(6,r.tokenType,u);break}case"S":case"s":case"Q":case"q":{g(4,r.tokenType,u);break}case"T":case"t":{g(2,r.tokenType,u);break}case"A":case"a":{g(7,r.tokenType,u);break}default:{a(t[c],"Wrong path command."),c++;break}}};for(g(2,"L",t[0].tokenType==="m");!l();)x();return n};var Te=e=>N(e).errors.length<=0,N=e=>{let n=F(e);return Q(n)},Me=e=>{var t,i;if(!e||!e.d&&!e.$path)return null;let n=(i=(t=e.$path)==null?void 0:t.getAttribute("d"))!=null?i:e.d;return n?(N(n),e.$path?e.$path:n):null};0&&(module.exports={DEFAULT_DECIMAL_PLACES,SVG_NAMESPACE,XMLNS_NAMESPACE,appendOnce,createCircle,createClipPath,createDefs,createEllipse,createGroup,createLine,createMask,createPath,createPattern,createPolygon,createPolyline,createRect,createRectPath,createSVG,createSVGFromString,createStar,createSymbol,createUse,getCommonAttributes,getRectPathD,getSVGAsString,isPathValid,parsePath,prependOnce,saveSVG,setAttributes,transformPath});
//# sourceMappingURL=mz-svg.node.cjs.map
